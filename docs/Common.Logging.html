<div class="wikidoc"><h3>See also</h3>
<div class=wikidoc>
<ul>
<li><a href="http://logging.codeplex.com/documentation">Design of CuttingEdge.Logging</a> </li>
<li><a href="http://logging.codeplex.com/wikipage?title=Configuration&referringTitle=Documentation">CuttingEdge.Logging configuration examples</a> </li>
</ul>
</div>
<h1>Using CuttingEdge.Logging with the Common.Logging fa&ccedil;ade</h1>
<p>The <a href="http://netcommon.sourceforge.net/">Common.Logging</a> fa&ccedil;ade is an abstraction over logging frameworks. It allows you to select a specific logging implementation at runtime. Thus you can defer the decision what particular logging library to use until deployment. The download of the current CuttingEdge.Logging release contains an adapter for the Common.Logging interface and therefore allows users to abstract the use of CuttingEdge.Logging away. This allows users to use the simple configuration model of CuttingEdge.Logging, while being able to replace CuttingEdge.Logging easily with another logging framework when needed.</p>
<p>The Common.Logging adapter for CuttingEdge.Logging also adds the notion of hierarchical loggers to CuttingEdge.Logging. This is a feature CuttingEdge.Logging doesn't support natively, because it is thought to be an advanced feature. Naming logging providers as namespaces (such as 'Company.Product.Layer'), will allow the adapter to resolve loggers in an hierarchical manner. This works, because users will typically create a Common.Logging logger based on the name of a type.</p>
<p>Below is an example of a configuration that hides CuttingEdge.Logging behind the Common.Logging fa&ccedil;ade and while allowing loggers to be accessed in an hierarchical manner.</p>
<div style="background-color:white;color:black">
<pre><span style="color:blue">&lt;?</span><span style="color:#a31515">xml</span> <span style="color:red">version</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">1.0</span><span style="color:black">&quot;</span><span style="color:blue">?&gt;</span><br><span style="color:blue">&lt;</span><span style="color:#a31515">configuration</span><span style="color:blue">&gt;</span><br>  <span style="color:blue">&lt;</span><span style="color:#a31515">configSections</span><span style="color:blue">&gt;</span><br>    <span style="color:blue">&lt;<span style="color:#a31515">sectionGroup <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">common</span><span style="color:black">&quot;<span style="color:blue">&gt;</span><br></span></span></span><span style="color:blue">      &lt;</span><span style="color:#a31515">section</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">logging</span><span style="color:black">&quot; <span style="color:red">type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Common.Logging.ConfigurationSectionHandler, Common.Logging</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span></span><br>    <span style="color:blue">&lt;<span style="color:blue">/<span style="color:#a31515">sectionGroup<span style="color:blue">&gt;</span><br></span></span></span>    <span style="color:blue">&lt;<span style="color:#a31515">sectionGroup <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">cuttingEdge</span><span style="color:black">&quot;<span style="color:blue">&gt;<br>      <span style="color:blue">&lt;</span><span style="color:#a31515">section</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">logging</span><span style="color:black">&quot; </span></span></span></span></span><span style="color:red">type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.LoggingSection, CuttingEdge.Logging</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;<br>    <span style="color:blue">&lt;<span style="color:blue">/<span style="color:#a31515">sectionGroup<span style="color:blue">&gt;</span></span></span></span></span><br>  <span style="color:blue">&lt;/</span><span style="color:#a31515">configSections</span><span style="color:blue">&gt;<br>  <span style="color:blue">&lt;</span><span style="color:#a31515">common</span><span style="color:blue">&gt;<br>    <span style="color:blue">&lt;</span><span style="color:#a31515">logging</span><span style="color:blue">&gt;<br>      <span style="color:blue">&lt;</span><span style="color:#a31515">factoryAdapter <br><span style="color:red">        type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Common.Logging.CuttingEdge.CuttingEdgeLoggerFactoryAdapter, Common.Logging.CuttingEdge</span><span style="color:black">&quot; <span style="color:blue">/</span></span></span><span style="color:blue">&gt;<br>    </span><span style="color:blue">&lt;<span style="color:blue">/</span></span><span style="color:#a31515">logging</span><span style="color:blue">&gt;<br>  <span style="color:blue">&lt;<span style="color:blue">/</span></span><span style="color:#a31515">common</span><span style="color:blue">&gt;</span></span></span></span></span><br>  <span style="color:blue">&lt;</span><span style="color:#a31515">cuttingEdge<span style="color:blue">&gt;<br></span></span><span style="color:#a31515"><span style="color:blue"><span style="color:blue">    &lt;</span><span style="color:#a31515">logging</span></span></span> <span style="color:red">defaultProvider</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">root</span><span style="color:black">&quot;</span><span style="color:blue">&gt;</span><br>      <span style="color:blue">&lt;</span><span style="color:#a31515">providers</span><span style="color:blue">&gt;</span><br>        <span style="color:blue">&lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">root</span><span style="color:black">&quot;</span> <span style="color:red">                  type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.TerminatorLoggingProvider</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span><br><span style="color:blue">        &lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Company</span><span style="color:black">&quot;                </span><span style="color:red">type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.XmlFileLoggingProvider</span><span style="color:black">&quot;</span><br>                                           <span style="color:black"><span style="color:red">path</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">company.log</span><span style="color:black">&quot;</span> </span><span style="color:blue">/&gt;</span><br>        <span style="color:blue">&lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Company.Product</span><span style="color:black">&quot; </span><span style="color:red">       type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.WindowsEventLogLoggingProvider</span><span style="color:black">&quot;<br></span>                                    <span style="color:black"><span style="color:red">       logName</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">[MyApplication]</span><span style="color:black">&quot;</span> <span style="color:red">source</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Product</span><span style="color:black">&quot;<br>                                           <span style="color:red">threshold</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Information</span><span style="color:black">&quot; </span></span></span><span style="color:blue">/&gt;</span><br><span style="color:blue">        &lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Company.Product.Layer1</span><span style="color:black">&quot; </span><span style="color:red">type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.CompositeLoggingProvider</span><span style="color:black">&quot;<br>         </span> <span style="color:red">                                 provider1</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">FileLogger</span><span style="color:black">&quot;</span><br>                                           <span style="color:red">provider2</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Company</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span><br><span style="color:blue">        &lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Company.Product.Layer2</span><span style="color:black">&quot; </span><span style="color:red">type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.WindowsEventLogLoggingProvider</span><span style="color:black">&quot;<br><span style="color:red">                                           logName</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">[MyApplication]</span><span style="color:black">&quot;</span> <span style="color:red">source</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Layer2</span><span style="color:black">&quot; <br>                                           <span style="color:red">threshold</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Warning</span><span style="color:black">&quot; </span></span></span><span style="color:blue">/&gt;<br></span>        <span style="color:blue">&lt;</span><span style="color:#a31515">add</span> <span style="color:red">name</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">FileLogger</span><span style="color:black">&quot; </span><span style="color:red">            type</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CuttingEdge.Logging.XmlFileLoggingProvider</span><span style="color:black">&quot;</span> <span style="color:black"><span style="color:red"><br>                                           path</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">log.xml</span><span style="color:black">&quot;</span> <span style="color:red">threshold</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Error</span><span style="color:black">&quot;</span></span> <span style="color:blue">/&gt;</span><br>      <span style="color:blue">&lt;/</span><span style="color:#a31515">providers</span><span style="color:blue">&gt;<br><span style="color:blue">    &lt;<span style="color:blue">/</span></span><span style="color:#a31515">logging</span><span style="color:blue">&gt;</span></span><br><span style="color:blue">  &lt;/</span><span style="color:#a31515">cuttingEdge</span><span style="color:blue">&gt;</span><br><span style="color:blue">&lt;/</span><span style="color:#a31515">configuration</span><span style="color:blue">&gt;</span></pre>
</div>
<blockquote>
<p><em>Note that for this example to work you need to reference the <strong>Common.Logging.dll</strong>, <strong>CuttingEdge.Logging.dll</strong>, and <strong>Common.Logging.CuttingEdge.dll</strong> assemblies in the startup project of your solution (please note that the Common.Logging.dll is not included in the downloads. You can download it from the </em><a href="http://netcommon.sourceforge.net/"><em>Common.Logging</em></a><em> website).</em></p>
</blockquote>
<p>While this is a rather complex example of a configuration, it does show what you can do with CuttingEdge.Logging when you integrate it with the Common.Logging fa&ccedil;ade:</p>
<ul>
<li>The example shows how the <a href="http://logging.cuttingedge.it/ReferenceLibrary/T_CuttingEdge_Logging_TerminatorLoggingProvider.htm">TerminatorLoggingProvider</a> is configured as default provider, which means that Common.Logging will see it as the &lsquo;root&rsquo; logger (the name of the logger is not of any importance for this). When the Common.Logging adapter could not find a suited provider by examining the type name, the default provider will be used. The TerminatorLoggingProvider will ignore all logging events. </li>
<li>The example shows that loggers are named by a namespace, which allows an hierarchical fallback model. For instance, logging information for the type &ldquo;Company.Product.Layer2.Internals&rdquo; will be send to the <a href="http://logging.cuttingedge.it/ReferenceLibrary/T_CuttingEdge_Logging_WindowsEventLogLoggingProvider.htm">WindowsEventLogLoggginProvider</a> named &ldquo;Company.Product.Layer2&rdquo;. Logging information for the type &ldquo;Company.Product.Layer3.Helpers&rdquo; however, will be logged to the WindowsEventLogLoggginProvider named &ldquo;Company.Product&rdquo;, because there is no &ldquo;Company.Product.Layer3&rdquo; configured. </li>
<li>The example shows how a <a href="http://logging.cuttingedge.it/ReferenceLibrary/T_CuttingEdge_Logging_CompositeLoggingProvider.htm">CompositeLoggingProvider</a> can be used to forward logging information to multiple other providers that might have other filtering level for events defined. </li>
</ul>
<h2>More information</h2>
<p>For more information about CuttingEdge.Logging, please visit the following links:</p>
<ul>
<li><a href="http://logging.codeplex.com/wikipage?title=Configuration&referringTitle=Documentation">CuttingEdge.Logging configuration examples</a> </li>
<li><a href="http://logging.cuttingedge.it/ReferenceLibrary/">CuttingEdge.Logging Reference Library</a> </li>
</ul></div><div class="ClearBoth"></div>